
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:c="http://java.sun.com/jsp/jstl/core">

<h:head>

</h:head>

<h:body>
	<h:form>

		<p:dataTable var="doacao" value="#{doacaoController.listDoacao()}"
			rows="10">
			<f:facet name="header">
                      Lista com doações cadastradas
                      </f:facet>
			<p:column headerText="EMPRESA DOADORA"
				sortBy="#{doacao.empresaDoadora.nomeFantasia}"
				filterBy="#{doacao.empresaDoadora.nomeFantasia}">
				<h:outputText value="#{doacao.empresaDoadora.nomeFantasia}" />
			</p:column>

			<p:column headerText="TITULO" sortBy="#{doacao.titulo}"
				filterBy="#{doacao.titulo}">
				<h:outputText value="#{doacao.titulo}" />
			</p:column>

			<p:column headerText="DESCRIÇÃO" sortBy="#{doacao.descricao}"
				filterBy="#{doacao.descricao}">
				<h:outputText value="#{doacao.descricao}" />
			</p:column>

			<p:column headerText="CATEGORIA" sortBy="#{doacao.categoria}"
				filterBy="#{doacao.categoria}">
				<h:outputText value="#{doacao.categoria}" />
			</p:column>

			<p:column headerText="DISPONIBILIDADE"
				sortBy="#{doacao.disponibilidade}"
				filterBy="#{doacao.disponibilidade}">
				<h:outputText value="#{doacao.disponibilidade}" />
			</p:column>
			<p:column headerText="DATA DA DOACAO" sortBy="#{doacao.getData()}"
				filterBy="#{doacao.getData()}">
				<h:outputText value="#{doacao.getData()}">
				</h:outputText>
			</p:column>
			
			
			<p:column>
				 <p:commandButton value="RESERVAR" onclick="PF('dlg1').show();" type="button" update=":doacaoReserva:edit">
			</p:commandButton>
			</p:column>
			
		</p:dataTable>
	</h:form>
	
	
			<p:dialog header="doacao" widgetVar="dlg1" dynamic="true">
		<h:outputText value="#{doacao.titulo}" />

		<h:form id="doacaoReserva">
			<p:messages id="messages" />
			<p:panelGrid columns="2">

				<p:outputLabel for="cnpj" value="Cnpj:" />
				<p:inputMask id="cnpj" mask="99.999.999/9999-99" value="#{doacao.cnpjOng}" >
				<f:converter converterId="converter.CnpjConverter" />
				</p:inputMask>
				<h:outputText value="Senha: " />
				<p:password id="nonFeedback" value="#{doacao.passwordOng}" />
					
				<p:commandButton value="Reservar" icon="ui-icon-star" 
					action="#{doacaoController.reservarDoacao( doacao)}">
				</p:commandButton>
				
			</p:panelGrid>
		</h:form>
	</p:dialog>
	
	
</h:body>
</html>